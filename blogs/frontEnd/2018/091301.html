<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="/favicon.ico"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>reco-fetch | 午后南杂</title><meta name="description" content="Enjoy when you can, and endure when you must.">
    <link rel="modulepreload" href="/blog/assets/app.9a681789.js"><link rel="modulepreload" href="/blog/assets/091301.html.76121e50.js"><link rel="modulepreload" href="/blog/assets/091301.html.53849a21.js"><link rel="prefetch" href="/blog/assets/index.html.1be16d4b.js"><link rel="prefetch" href="/blog/assets/index.html.fd0f9299.js"><link rel="prefetch" href="/blog/assets/index.html.f5514604.js"><link rel="prefetch" href="/blog/assets/042201.html.e03e6b9a.js"><link rel="prefetch" href="/blog/assets/092001.html.8b9a7895.js"><link rel="prefetch" href="/blog/assets/033001.html.5e626a7a.js"><link rel="prefetch" href="/blog/assets/072101.html.aff87dfd.js"><link rel="prefetch" href="/blog/assets/092301.html.fcf96bf4.js"><link rel="prefetch" href="/blog/assets/112501.html.a52c8c58.js"><link rel="prefetch" href="/blog/assets/042301.html.33fff4f5.js"><link rel="prefetch" href="/blog/assets/042302.html.af289543.js"><link rel="prefetch" href="/blog/assets/051201.html.9deaa00a.js"><link rel="prefetch" href="/blog/assets/082101.html.cc43583f.js"><link rel="prefetch" href="/blog/assets/112101.html.d1f201a2.js"><link rel="prefetch" href="/blog/assets/112201.html.5b39a982.js"><link rel="prefetch" href="/blog/assets/032401.html.5d409230.js"><link rel="prefetch" href="/blog/assets/082201.html.3c9128b1.js"><link rel="prefetch" href="/blog/assets/033001.html.bdab9104.js"><link rel="prefetch" href="/blog/assets/041901.html.a621b2e5.js"><link rel="prefetch" href="/blog/assets/041902.html.5d77819c.js"><link rel="prefetch" href="/blog/assets/041903.html.4943c8fb.js"><link rel="prefetch" href="/blog/assets/041904.html.29f191bd.js"><link rel="prefetch" href="/blog/assets/041905.html.7d47bc0b.js"><link rel="prefetch" href="/blog/assets/041906.html.d4a9bb3e.js"><link rel="prefetch" href="/blog/assets/041907.html.9997db22.js"><link rel="prefetch" href="/blog/assets/041908.html.f09cf32d.js"><link rel="prefetch" href="/blog/assets/041909.html.8123fb7d.js"><link rel="prefetch" href="/blog/assets/110101.html.ff54926e.js"><link rel="prefetch" href="/blog/assets/110102.html.5370e5dd.js"><link rel="prefetch" href="/blog/assets/071301.html.097c3310.js"><link rel="prefetch" href="/blog/assets/112601.html.10029e54.js"><link rel="prefetch" href="/blog/assets/032201.html.47efa2d6.js"><link rel="prefetch" href="/blog/assets/071301.html.1f65b536.js"><link rel="prefetch" href="/blog/assets/102401.html.42061747.js"><link rel="prefetch" href="/blog/assets/110901.html.1980f7f4.js"><link rel="prefetch" href="/blog/assets/111301.html.44e4a9f3.js"><link rel="prefetch" href="/blog/assets/012401.html.1cd0e78f.js"><link rel="prefetch" href="/blog/assets/012501.html.b152947e.js"><link rel="prefetch" href="/blog/assets/012502.html.5a6a3c08.js"><link rel="prefetch" href="/blog/assets/041401.html.1e5a766b.js"><link rel="prefetch" href="/blog/assets/121601.html.2814cbb0.js"><link rel="prefetch" href="/blog/assets/012201.html.dcada424.js"><link rel="prefetch" href="/blog/assets/021001.html.87898745.js"><link rel="prefetch" href="/blog/assets/021002.html.2ed2ef5b.js"><link rel="prefetch" href="/blog/assets/101601.html.69a423c1.js"><link rel="prefetch" href="/blog/assets/012401.html.21d6458b.js"><link rel="prefetch" href="/blog/assets/121301.html.525d8062.js"><link rel="prefetch" href="/blog/assets/052401.html.0b828eee.js"><link rel="prefetch" href="/blog/assets/121501.html.f89e9088.js"><link rel="prefetch" href="/blog/assets/122801.html.9477c4a0.js"><link rel="prefetch" href="/blog/assets/010101.html.89ec07a3.js"><link rel="prefetch" href="/blog/assets/020401.html.5a06778e.js"><link rel="prefetch" href="/blog/assets/072601.html.5be1b0e4.js"><link rel="prefetch" href="/blog/assets/081101.html.f5ed118e.js"><link rel="prefetch" href="/blog/assets/081501.html.7ff06845.js"><link rel="prefetch" href="/blog/assets/081502.html.1ab57891.js"><link rel="prefetch" href="/blog/assets/091001.html.6311e2d5.js"><link rel="prefetch" href="/blog/assets/110301.html.cfec2b54.js"><link rel="prefetch" href="/blog/assets/111301.html.5064ee5a.js"><link rel="prefetch" href="/blog/assets/061501.html.0f24f972.js"><link rel="prefetch" href="/blog/assets/072401.html.5a7dca61.js"><link rel="prefetch" href="/blog/assets/interview.html.161dae3d.js"><link rel="prefetch" href="/blog/assets/071801.html.16c98f03.js"><link rel="prefetch" href="/blog/assets/121801.html.be485d39.js"><link rel="prefetch" href="/blog/assets/090901.html.c4461b8d.js"><link rel="prefetch" href="/blog/assets/121201.html.d3143338.js"><link rel="prefetch" href="/blog/assets/031201.html.a4644a50.js"><link rel="prefetch" href="/blog/assets/041101.html.6cae4412.js"><link rel="prefetch" href="/blog/assets/0122.html.d0e71190.js"><link rel="prefetch" href="/blog/assets/404.html.085922a4.js"><link rel="prefetch" href="/blog/assets/index.html.d093fa6b.js"><link rel="prefetch" href="/blog/assets/index.html.b33147e3.js"><link rel="prefetch" href="/blog/assets/index.html.c74ea1ad.js"><link rel="prefetch" href="/blog/assets/index.html.01de30d1.js"><link rel="prefetch" href="/blog/assets/index.html.99806978.js"><link rel="prefetch" href="/blog/assets/index.html.82fc21eb.js"><link rel="prefetch" href="/blog/assets/index.html.873ce840.js"><link rel="prefetch" href="/blog/assets/index.html.b4d46ab3.js"><link rel="prefetch" href="/blog/assets/index.html.72c1810c.js"><link rel="prefetch" href="/blog/assets/index.html.d73cb0f5.js"><link rel="prefetch" href="/blog/assets/index.html.fa80078a.js"><link rel="prefetch" href="/blog/assets/index.html.6ea5663a.js"><link rel="prefetch" href="/blog/assets/index.html.e9f7aecd.js"><link rel="prefetch" href="/blog/assets/index.html.da68f000.js"><link rel="prefetch" href="/blog/assets/index.html.859d639e.js"><link rel="prefetch" href="/blog/assets/index.html.982a9d8f.js"><link rel="prefetch" href="/blog/assets/index.html.0a7c1304.js"><link rel="prefetch" href="/blog/assets/index.html.3344379c.js"><link rel="prefetch" href="/blog/assets/index.html.21f1e1e3.js"><link rel="prefetch" href="/blog/assets/index.html.1d58b1aa.js"><link rel="prefetch" href="/blog/assets/index.html.e2f1a905.js"><link rel="prefetch" href="/blog/assets/index.html.4c82983d.js"><link rel="prefetch" href="/blog/assets/index.html.1d074a1b.js"><link rel="prefetch" href="/blog/assets/index.html.08f183fe.js"><link rel="prefetch" href="/blog/assets/index.html.94d0aa7c.js"><link rel="prefetch" href="/blog/assets/index.html.f275c961.js"><link rel="prefetch" href="/blog/assets/index.html.5f0c0531.js"><link rel="prefetch" href="/blog/assets/index.html.43659d2f.js"><link rel="prefetch" href="/blog/assets/index.html.2f1244a2.js"><link rel="prefetch" href="/blog/assets/index.html.dbf4b1a1.js"><link rel="prefetch" href="/blog/assets/index.html.e2ad6d9c.js"><link rel="prefetch" href="/blog/assets/index.html.09a1788e.js"><link rel="prefetch" href="/blog/assets/index.html.13939e5a.js"><link rel="prefetch" href="/blog/assets/index.html.59db4090.js"><link rel="prefetch" href="/blog/assets/index.html.bde80e12.js"><link rel="prefetch" href="/blog/assets/index.html.6247d4c5.js"><link rel="prefetch" href="/blog/assets/index.html.098e1930.js"><link rel="prefetch" href="/blog/assets/index.html.9e2b18eb.js"><link rel="prefetch" href="/blog/assets/index.html.7405d41a.js"><link rel="prefetch" href="/blog/assets/index.html.5bfb7e9e.js"><link rel="prefetch" href="/blog/assets/index.html.05ec6912.js"><link rel="prefetch" href="/blog/assets/index.html.161fad50.js"><link rel="prefetch" href="/blog/assets/index.html.561893c7.js"><link rel="prefetch" href="/blog/assets/index.html.64724a7a.js"><link rel="prefetch" href="/blog/assets/index.html.650d3bf3.js"><link rel="prefetch" href="/blog/assets/index.html.7c040d22.js"><link rel="prefetch" href="/blog/assets/042201.html.46eb79eb.js"><link rel="prefetch" href="/blog/assets/092001.html.f37de110.js"><link rel="prefetch" href="/blog/assets/033001.html.224ebd16.js"><link rel="prefetch" href="/blog/assets/072101.html.251a7c70.js"><link rel="prefetch" href="/blog/assets/092301.html.d3864383.js"><link rel="prefetch" href="/blog/assets/112501.html.9bd16e93.js"><link rel="prefetch" href="/blog/assets/042301.html.696b21a9.js"><link rel="prefetch" href="/blog/assets/042302.html.fdcb2feb.js"><link rel="prefetch" href="/blog/assets/051201.html.da979367.js"><link rel="prefetch" href="/blog/assets/082101.html.967e38db.js"><link rel="prefetch" href="/blog/assets/112101.html.b836aa97.js"><link rel="prefetch" href="/blog/assets/112201.html.be833004.js"><link rel="prefetch" href="/blog/assets/032401.html.f373e127.js"><link rel="prefetch" href="/blog/assets/082201.html.b1d4d405.js"><link rel="prefetch" href="/blog/assets/033001.html.0a0c2b30.js"><link rel="prefetch" href="/blog/assets/041901.html.65268880.js"><link rel="prefetch" href="/blog/assets/041902.html.b35acb11.js"><link rel="prefetch" href="/blog/assets/041903.html.6f4032ac.js"><link rel="prefetch" href="/blog/assets/041904.html.fb1ec91d.js"><link rel="prefetch" href="/blog/assets/041905.html.0b4b297e.js"><link rel="prefetch" href="/blog/assets/041906.html.f1e4232b.js"><link rel="prefetch" href="/blog/assets/041907.html.640a08b1.js"><link rel="prefetch" href="/blog/assets/041908.html.529ac8e9.js"><link rel="prefetch" href="/blog/assets/041909.html.ad961d44.js"><link rel="prefetch" href="/blog/assets/110101.html.36c9a491.js"><link rel="prefetch" href="/blog/assets/110102.html.024883a6.js"><link rel="prefetch" href="/blog/assets/071301.html.707d2993.js"><link rel="prefetch" href="/blog/assets/112601.html.8bd70c6f.js"><link rel="prefetch" href="/blog/assets/032201.html.095a1528.js"><link rel="prefetch" href="/blog/assets/071301.html.a0209b71.js"><link rel="prefetch" href="/blog/assets/102401.html.29e10be0.js"><link rel="prefetch" href="/blog/assets/110901.html.35bee010.js"><link rel="prefetch" href="/blog/assets/111301.html.49c16765.js"><link rel="prefetch" href="/blog/assets/012401.html.7354b44f.js"><link rel="prefetch" href="/blog/assets/012501.html.da646611.js"><link rel="prefetch" href="/blog/assets/012502.html.9ef0a9dc.js"><link rel="prefetch" href="/blog/assets/041401.html.6dde3204.js"><link rel="prefetch" href="/blog/assets/121601.html.c6cd7805.js"><link rel="prefetch" href="/blog/assets/012201.html.fbd494b8.js"><link rel="prefetch" href="/blog/assets/021001.html.aba90155.js"><link rel="prefetch" href="/blog/assets/021002.html.9565a92b.js"><link rel="prefetch" href="/blog/assets/101601.html.ce70bdba.js"><link rel="prefetch" href="/blog/assets/012401.html.b955caf6.js"><link rel="prefetch" href="/blog/assets/121301.html.51fdd4b6.js"><link rel="prefetch" href="/blog/assets/052401.html.149d03bb.js"><link rel="prefetch" href="/blog/assets/121501.html.c432ef16.js"><link rel="prefetch" href="/blog/assets/122801.html.2c674a0d.js"><link rel="prefetch" href="/blog/assets/010101.html.c7b79433.js"><link rel="prefetch" href="/blog/assets/020401.html.cbef2085.js"><link rel="prefetch" href="/blog/assets/072601.html.cd83ab3f.js"><link rel="prefetch" href="/blog/assets/081101.html.ace95abd.js"><link rel="prefetch" href="/blog/assets/081501.html.83f85bb5.js"><link rel="prefetch" href="/blog/assets/081502.html.e9e0da4d.js"><link rel="prefetch" href="/blog/assets/091001.html.f8352575.js"><link rel="prefetch" href="/blog/assets/110301.html.40f42853.js"><link rel="prefetch" href="/blog/assets/111301.html.c4efe0de.js"><link rel="prefetch" href="/blog/assets/061501.html.feea7e33.js"><link rel="prefetch" href="/blog/assets/072401.html.763bb288.js"><link rel="prefetch" href="/blog/assets/interview.html.49e9345a.js"><link rel="prefetch" href="/blog/assets/071801.html.b067727a.js"><link rel="prefetch" href="/blog/assets/121801.html.8f6a8c68.js"><link rel="prefetch" href="/blog/assets/090901.html.ad90931b.js"><link rel="prefetch" href="/blog/assets/121201.html.093e003c.js"><link rel="prefetch" href="/blog/assets/031201.html.3c5dcd11.js"><link rel="prefetch" href="/blog/assets/041101.html.967cd0a7.js"><link rel="prefetch" href="/blog/assets/0122.html.c6013e0a.js"><link rel="prefetch" href="/blog/assets/404.html.99720471.js"><link rel="prefetch" href="/blog/assets/index.html.ca914e98.js"><link rel="prefetch" href="/blog/assets/index.html.42efa9ee.js"><link rel="prefetch" href="/blog/assets/index.html.c22c814d.js"><link rel="prefetch" href="/blog/assets/index.html.f9680f2f.js"><link rel="prefetch" href="/blog/assets/index.html.4affb60a.js"><link rel="prefetch" href="/blog/assets/index.html.04e61b01.js"><link rel="prefetch" href="/blog/assets/index.html.0f9645e8.js"><link rel="prefetch" href="/blog/assets/index.html.defc8a67.js"><link rel="prefetch" href="/blog/assets/index.html.52fd1c67.js"><link rel="prefetch" href="/blog/assets/index.html.510e02ce.js"><link rel="prefetch" href="/blog/assets/index.html.7dcdf7b6.js"><link rel="prefetch" href="/blog/assets/index.html.a5c994a1.js"><link rel="prefetch" href="/blog/assets/index.html.ce6fa5a6.js"><link rel="prefetch" href="/blog/assets/index.html.4c4ae6a8.js"><link rel="prefetch" href="/blog/assets/index.html.33078cea.js"><link rel="prefetch" href="/blog/assets/index.html.2b2c39e6.js"><link rel="prefetch" href="/blog/assets/index.html.7cd634c1.js"><link rel="prefetch" href="/blog/assets/index.html.fcb0ba67.js"><link rel="prefetch" href="/blog/assets/index.html.88e2a24b.js"><link rel="prefetch" href="/blog/assets/index.html.61adf9bf.js"><link rel="prefetch" href="/blog/assets/index.html.ca7d92c5.js"><link rel="prefetch" href="/blog/assets/index.html.e2592dfd.js"><link rel="prefetch" href="/blog/assets/index.html.7c3d6c22.js"><link rel="prefetch" href="/blog/assets/index.html.b0f7d3a3.js"><link rel="prefetch" href="/blog/assets/index.html.0e1d0d5e.js"><link rel="prefetch" href="/blog/assets/index.html.a35b3c97.js"><link rel="prefetch" href="/blog/assets/index.html.a5df18a7.js"><link rel="prefetch" href="/blog/assets/index.html.5434c4ac.js"><link rel="prefetch" href="/blog/assets/index.html.36259fe5.js"><link rel="prefetch" href="/blog/assets/index.html.091283e6.js"><link rel="prefetch" href="/blog/assets/index.html.07f4d437.js"><link rel="prefetch" href="/blog/assets/index.html.17c81745.js"><link rel="prefetch" href="/blog/assets/index.html.e53fac52.js"><link rel="prefetch" href="/blog/assets/index.html.3fffca41.js"><link rel="prefetch" href="/blog/assets/index.html.c7e569bc.js"><link rel="prefetch" href="/blog/assets/index.html.7c08efb6.js"><link rel="prefetch" href="/blog/assets/index.html.36649e0b.js"><link rel="prefetch" href="/blog/assets/index.html.71c28352.js"><link rel="prefetch" href="/blog/assets/index.html.8507dd77.js"><link rel="prefetch" href="/blog/assets/index.html.7731d381.js"><link rel="prefetch" href="/blog/assets/index.html.be473fd5.js"><link rel="prefetch" href="/blog/assets/index.html.8bce9415.js"><link rel="prefetch" href="/blog/assets/index.html.a5df5b28.js"><link rel="prefetch" href="/blog/assets/reco-valine.ed4545b0.js">
    <link rel="stylesheet" href="/blog/assets/style.62ac851f.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper no-sidebar"><div><header class="navbar-container"><span class="nav-item site-brand"><a href="/blog/" class=""><img class="logo" src="/blog/head.png" alt="午后南杂"><span class="site-name can-hide">午后南杂</span></a></span><div class="nav-item navbar-links-wrapper" style=""><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/blog/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Categories">Categories <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Categories"><span class="title"><span>Categories</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Tags">Tags <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Tags"><span class="title"><span>Tags</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Contact">Contact <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Contact"><span class="title"><span>Contact</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link" href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><a class="icon-container left btn-toggle-dark-mode" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:19px;height:19px;font-size:19px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3h.393a7.5 7.5 0 0 0 7.92 12.446A9 9 0 1 1 12 2.992z"></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0-2 2a2 2 0 0 0-2-2a2 2 0 0 0 2-2"></path><path d="M19 11h2m-1-1v2"></path></g></svg><!----></a><a class="icon-container left btn-toggle-menus" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="19" r="1"></circle><circle cx="12" cy="5" r="1"></circle></g></svg><!----></a></div></header><div class="mobile-menus-container"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/blog/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Categories">Categories <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Categories"><span class="title"><span>Categories</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Tags">Tags <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Tags"><span class="title"><span>Tags</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Contact">Contact <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Contact"><span class="title"><span>Contact</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link" href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><div class="appearance"><span>Appearance </span><a class="icon-container left btn-toggle-dark-mode" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:19px;height:19px;font-size:19px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3h.393a7.5 7.5 0 0 0 7.92 12.446A9 9 0 1 1 12 2.992z"></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0-2 2a2 2 0 0 0-2-2a2 2 0 0 0 2-2"></path><path d="M19 11h2m-1-1v2"></path></g></svg><!----></a></div></div><div class="sidebar-mask"></div><aside class="series-container"><!--[--><!--]--></aside><!--[--><main class="page-container show-catalog"><h1 class="page-title">reco-fetch</h1><div class="page-info"><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="7" r="4"></circle><path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->reco_luan<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 7v5l3 3"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->2018-09-13 08:00:00<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->frontEnd<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8.5" cy="8.5" r="1" fill="currentColor"></circle><path d="M4 7v3.859c0 .537.213 1.052.593 1.432l8.116 8.116a2.025 2.025 0 0 0 2.864 0l4.834-4.834a2.025 2.025 0 0 0 0-2.864L12.29 4.593A2.025 2.025 0 0 0 10.859 4H7a3 3 0 0 0-3 3z"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->npm fetch vue rect<!--]--></span></a><!----></div><div class="theme-reco-default-content"><div><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><ul><li><code>fetch</code> 必然要替换 <code>XMLHttpRequest</code> ，所以是时候尝试 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" target="_blank" rel="noopener noreferrer">fetch<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 了；</li><li>本封装仅针对npm引入；</li><li>本封装依赖 <a href="https://github.com/github/fetch" target="_blank" rel="noopener noreferrer">es6-promise<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 和 <a href="https://github.com/stefanpenner/es6-promise" target="_blank" rel="noopener noreferrer">whatwg-fetch<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，分别对 <code>promise</code> 和 <code>fetch</code> 进行兼容性处理；</li><li>还有一种兼容性处理是依赖 <a href="https://github.com/github/fetch" target="_blank" rel="noopener noreferrer">es6-promise<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 和<a href="https://github.com/matthew-andrews/isomorphic-fetch" target="_blank" rel="noopener noreferrer">isomorphic-fetch<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ，但是看它的源码就会发现，<code>isomorphic-fetch</code> 只不过是引用了 <code>whatwg-fetch</code> ，并没有做二次开发，<code>isomorphic-fetch</code> 只是将fetch添加为全局，以便其API在客户端和服务器之间保持一致，所以没必要。</li></ul></div><!-- more --><h2 id="封装的主要内容" tabindex="-1"><a class="header-anchor" href="#封装的主要内容" aria-hidden="true">#</a> 封装的主要内容</h2><ol><li><code>fetch</code> 的请求方式同 <code>$ajax</code> 和 <code>axios</code> 都不太一样，并且它本身的get请求同其他请求对数据的处理和herder也不太相同，所以为了统一请求行为，方便请求过程，将请求过程进行封装；</li><li><code>fetch</code> 请求的结果均返回到.then()中，但是平时的习惯是是在 <code>.then()</code> 中处理正确结果，<code>.catch()</code> 中处理错误，所以对请求结果进行统一处理；</li><li><code>fetch</code> 本身没有 <strong>请求超时</strong> 这个概念，所以通过 <code>Promise.race</code> 来处理，它的作用是多个promise同时运行，返回的结果以最快返回结果的那个promise的值为准。</li></ol><p>Fetch for browser.</p><h2 id="install" tabindex="-1"><a class="header-anchor" href="#install" aria-hidden="true">#</a> Install</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">npm</span> isntall reco-fetch
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="including-reco-fetch" tabindex="-1"><a class="header-anchor" href="#including-reco-fetch" aria-hidden="true">#</a> Including reco-fetch</h2><h3 id="script-tag" tabindex="-1"><a class="header-anchor" href="#script-tag" aria-hidden="true">#</a> Script tag</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/node_modules/reco-fetch/dist/recoFetch.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="import" tabindex="-1"><a class="header-anchor" href="#import" aria-hidden="true">#</a> Import</h3><div class="language-javscript ext-javscript line-numbers-mode"><pre class="language-javscript"><code>import recoFetch from &#39;reco-fetch&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="config" tabindex="-1"><a class="header-anchor" href="#config" aria-hidden="true">#</a> Config</h2><p>In addition to the parameters given below, please combine other parameters <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#Supplying_request_options" target="_blank" rel="noopener noreferrer">MDN<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>String<span class="token punctuation">,</span> must<span class="token punctuation">}</span></span> <span class="token parameter">url</span>    API URL
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>String<span class="token punctuation">,</span> must<span class="token punctuation">}</span></span> <span class="token parameter">options</span> Parameter objects, including:
 *        method  <span class="token punctuation">{</span>String, optional<span class="token punctuation">}</span> Request method, default &#39;get&#39;
 *        headers <span class="token punctuation">{</span>Object, optional<span class="token punctuation">}</span> Set request header
 *        params  <span class="token punctuation">{</span>Object, optional<span class="token punctuation">}</span> url parameters
 *        body    <span class="token punctuation">{</span>Object, optional<span class="token punctuation">}</span> request body
 *        timeout <span class="token punctuation">{</span>Number, optional<span class="token punctuation">}</span> Request timeout
 *        type    <span class="token punctuation">{</span>String, optional<span class="token punctuation">}</span> When &#39;post&#39; requests, you can set: &#39;json&#39;, &#39;formData&#39;
 */</span>

<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">recoFetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="example" tabindex="-1"><a class="header-anchor" href="#example" aria-hidden="true">#</a> Example</h2><h3 id="get" tabindex="-1"><a class="header-anchor" href="#get" aria-hidden="true">#</a> GET</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;get&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">recoFetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="post-json" tabindex="-1"><a class="header-anchor" href="#post-json" aria-hidden="true">#</a> POST JSON</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;json&#39;</span>
<span class="token punctuation">}</span>

<span class="token function">recoFetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>POST formData</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;formData&#39;</span>
<span class="token punctuation">}</span>

<span class="token comment">// or</span>

<span class="token keyword">const</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;form&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> form
<span class="token punctuation">}</span>

<span class="token function">recoFetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="put" tabindex="-1"><a class="header-anchor" href="#put" aria-hidden="true">#</a> PUT</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;put&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;json&#39;</span>
<span class="token punctuation">}</span>

<span class="token comment">// or</span>

<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;put&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">recoFetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="delete" tabindex="-1"><a class="header-anchor" href="#delete" aria-hidden="true">#</a> DELETE</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;delete&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">recoFetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="uploadfile" tabindex="-1"><a class="header-anchor" href="#uploadfile" aria-hidden="true">#</a> uploadFile</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fileField <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;input[type=&#39;file&#39;]&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">file</span><span class="token operator">:</span> fileField<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;formData&#39;</span>
<span class="token punctuation">}</span>

<span class="token comment">// or</span>

<span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> fileField <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;input[type=&#39;file&#39;]&quot;</span><span class="token punctuation">)</span>

formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&#39;file&#39;</span><span class="token punctuation">,</span> fileField<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> formData
<span class="token punctuation">}</span>

<span class="token function">recoFetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="license" tabindex="-1"><a class="header-anchor" href="#license" aria-hidden="true">#</a> License</h2><p><a href="https://github.com/recoluan/reco-fetch/blob/master/LICENSE" target="_blank" rel="noopener noreferrer">MIT<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><strong>如果觉得还可以，欢迎给个 <a href="https://github.com/recoluan/reco-fetch" target="_blank" rel="noopener noreferrer">Star<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong></p><p>个人博客：<a href="http://recoluan.gitlab.io" target="_blank" rel="noopener noreferrer"><strong>午后南杂</strong><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div></div><footer class="page-meta"><div class="meta-item edit-link"><a class="icon-container left meta-item-label" href="https://github.com/recoluan/recoluan.github.io/edit/gh-pages-source/blogs/frontEnd/2018/091301.md" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-3"></path><path d="M9 15h3l8.5-8.5a1.5 1.5 0 0 0-3-3L9 12v3"></path><path d="M16 5l3 3"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->Edit this page<!--]--></span></a></div><div class="meta-item last-updated"><a class="icon-container left meta-item-label" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11.795 21H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4"></path><circle cx="18" cy="18" r="4"></circle><path d="M15 3v4"></path><path d="M7 3v4"></path><path d="M3 11h16"></path><path d="M18 16.496V18l1 1"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->Last Updated 2022-09-22 14:37:20<!--]--></span></a></div></footer><!----><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/frontEnd/2018/091301.html#封装的主要内容" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="封装的主要内容"><!--[--><!--]--> 封装的主要内容 <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/frontEnd/2018/091301.html#install" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Install"><!--[--><!--]--> Install <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/frontEnd/2018/091301.html#including-reco-fetch" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Including reco-fetch"><!--[--><!--]--> Including reco-fetch <!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/blogs/frontEnd/2018/091301.html#script-tag" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Script tag"><!--[--><!--]--> Script tag <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/blogs/frontEnd/2018/091301.html#import" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Import"><!--[--><!--]--> Import <!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/frontEnd/2018/091301.html#config" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Config"><!--[--><!--]--> Config <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/frontEnd/2018/091301.html#example" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Example"><!--[--><!--]--> Example <!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/blogs/frontEnd/2018/091301.html#get" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="GET"><!--[--><!--]--> GET <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/blogs/frontEnd/2018/091301.html#post-json" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="POST JSON"><!--[--><!--]--> POST JSON <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/blogs/frontEnd/2018/091301.html#put" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="PUT"><!--[--><!--]--> PUT <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/blogs/frontEnd/2018/091301.html#delete" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="DELETE"><!--[--><!--]--> DELETE <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/blogs/frontEnd/2018/091301.html#uploadfile" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="uploadFile"><!--[--><!--]--> uploadFile <!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/frontEnd/2018/091301.html#license" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="License"><!--[--><!--]--> License <!--[--><!--]--></a></li><!--]--><!--]--></ul></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/blog/assets/app.9a681789.js" defer></script>
  </body>
</html>
